-- For the Users and Roles lab

CREATE USER biz_user PASSWORD = 'pass word' COMMENT = 'A business user' 
DEFAULT_WAREHOUSE = 'LAB_WH' DEFAULT_NAMESPACE = 'LAB_DB' MUST_CHANGE_PASSWORD = FALSE;

CREATE ROLE "biz_user_role";
GRANT USAGE ON WAREHOUSE LAB_DB TO ROLE biz_user_role;
GRANT USAGE ON DATABASE LAB_DB TO ROLE biz_user_role;
GRANT USAGE ON SCHEMA LAB_DB.PUBLIC TO ROLE biz_user_role;
GRANT SELECT ON ALL TABLES IN SCHEMA LAB_DB.PUBLIC TO ROLE biz_user_role;
GRANT SELECT ON ALL VIEWS IN SCHEMA LAB_DB.PUBLIC TO ROLE biz_user_role;
GRANT SELECT ON FUTURE TABLES IN SCHEMA LAB_DB.PUBLIC TO ROLE biz_user_role;
GRANT SELECT ON FUTURE VIEWS IN SCHEMA LAB_DB.PUBLIC TO ROLE biz_user_role;
GRANT ROLE biz_user_role TO USER biz_user;
ALTER USER biz_user SET DEFAULT_ROLE='biz_user_role';

